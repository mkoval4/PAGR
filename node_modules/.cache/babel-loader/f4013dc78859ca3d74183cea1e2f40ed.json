{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\gmaks\\\\Desktop\\\\project\\\\hci-pagr.github.io\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"C:\\\\Users\\\\gmaks\\\\Desktop\\\\project\\\\hci-pagr.github.io\\\\src\\\\containers\\\\data\\\\WithHospitals.js\";\nimport React from \"react\";\nimport faker from \"faker\";\nvar loaded = false;\nvar hospitalList = [];\nvar nextHospitalId = 0;\nvar localstorageKey = 'hospital-data';\nvar dataVersion = 2;\n\nvar generate = function generate() {\n  var hospital = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  nextHospitalId += 1;\n  return _objectSpread({\n    id: nextHospitalId\n  }, hospital);\n};\n\nvar seed = function seed() {\n  hospitalList.push(generate({\n    name: 'Central Hospital'\n  }));\n  hospitalList.push(generate({\n    name: 'A Betty Hospital'\n  }));\n  hospitalList.push(generate({\n    name: 'DW White Hospital'\n  }));\n};\n\nvar saveState = function saveState() {\n  localStorage.setItem(localstorageKey, JSON.stringify({\n    dataVersion: dataVersion,\n    nextHospitalId: nextHospitalId,\n    hospitalList: hospitalList\n  }));\n};\n\nvar loadHospitalData = function loadHospitalData() {\n  if (loaded) {\n    return;\n  }\n\n  if (localStorage.getItem(localstorageKey)) {\n    var _JSON$parse = JSON.parse(localStorage.getItem(localstorageKey)),\n        lsDataVersion = _JSON$parse.dataVersion,\n        lsNextHospitalId = _JSON$parse.nextHospitalId,\n        lsHospitalList = _JSON$parse.hospitalList;\n\n    if (dataVersion === lsDataVersion) {\n      loaded = true;\n      nextHospitalId = lsNextHospitalId;\n      hospitalList = lsHospitalList;\n      return;\n    }\n  }\n\n  seed();\n  saveState();\n  loaded = true;\n};\n\nvar WithHospitals = function WithHospitals(WrappedComponent) {\n  loadHospitalData();\n  return function (props) {\n    return React.createElement(WrappedComponent, Object.assign({}, props, {\n      hospitals: hospitalList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }));\n  };\n};\n\nexport var random = function random() {\n  loadHospitalData();\n  return faker.random.arrayElement(hospitalList);\n};\nexport default WithHospitals;","map":{"version":3,"sources":["C:\\Users\\gmaks\\Desktop\\project\\hci-pagr.github.io\\src\\containers\\data\\WithHospitals.js"],"names":["React","faker","loaded","hospitalList","nextHospitalId","localstorageKey","dataVersion","generate","hospital","id","seed","push","name","saveState","localStorage","setItem","JSON","stringify","loadHospitalData","getItem","parse","lsDataVersion","lsNextHospitalId","lsHospitalList","WithHospitals","WrappedComponent","props","random","arrayElement"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAIC,MAAM,GAAG,KAAb;AACA,IAAIC,YAAY,GAAG,EAAnB;AACA,IAAIC,cAAc,GAAG,CAArB;AAEA,IAAMC,eAAe,GAAG,eAAxB;AAEA,IAAMC,WAAW,GAAG,CAApB;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAmB;AAAA,MAAlBC,QAAkB,uEAAP,EAAO;AAChCJ,EAAAA,cAAc,IAAI,CAAlB;AACA;AACIK,IAAAA,EAAE,EAAEL;AADR,KAEOI,QAFP;AAIH,CAND;;AAQA,IAAME,IAAI,GAAG,SAAPA,IAAO,GAAM;AACfP,EAAAA,YAAY,CAACQ,IAAb,CAAkBJ,QAAQ,CAAC;AAACK,IAAAA,IAAI,EAAE;AAAP,GAAD,CAA1B;AACAT,EAAAA,YAAY,CAACQ,IAAb,CAAkBJ,QAAQ,CAAC;AAACK,IAAAA,IAAI,EAAE;AAAP,GAAD,CAA1B;AACAT,EAAAA,YAAY,CAACQ,IAAb,CAAkBJ,QAAQ,CAAC;AAACK,IAAAA,IAAI,EAAE;AAAP,GAAD,CAA1B;AACH,CAJD;;AAMA,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AACpBC,EAAAA,YAAY,CAACC,OAAb,CAAqBV,eAArB,EAAsCW,IAAI,CAACC,SAAL,CAAe;AACjDX,IAAAA,WAAW,EAAXA,WADiD;AAEjDF,IAAAA,cAAc,EAAdA,cAFiD;AAGjDD,IAAAA,YAAY,EAAZA;AAHiD,GAAf,CAAtC;AAKH,CAND;;AAQA,IAAMe,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC3B,MAAIhB,MAAJ,EAAY;AACR;AACH;;AAED,MAAIY,YAAY,CAACK,OAAb,CAAqBd,eAArB,CAAJ,EAA2C;AAAA,sBAKnCW,IAAI,CAACI,KAAL,CAAWN,YAAY,CAACK,OAAb,CAAqBd,eAArB,CAAX,CALmC;AAAA,QAEtBgB,aAFsB,eAEnCf,WAFmC;AAAA,QAGnBgB,gBAHmB,eAGnClB,cAHmC;AAAA,QAIrBmB,cAJqB,eAInCpB,YAJmC;;AAOvC,QAAIG,WAAW,KAAKe,aAApB,EAAmC;AAC/BnB,MAAAA,MAAM,GAAG,IAAT;AACAE,MAAAA,cAAc,GAAGkB,gBAAjB;AACAnB,MAAAA,YAAY,GAAGoB,cAAf;AACA;AACH;AACJ;;AAEDb,EAAAA,IAAI;AACJG,EAAAA,SAAS;AACTX,EAAAA,MAAM,GAAG,IAAT;AACH,CAvBD;;AAyBA,IAAMsB,aAAa,GAAG,SAAhBA,aAAgB,CAACC,gBAAD,EAAsB;AACxCP,EAAAA,gBAAgB;AAEhB,SAAO,UAAAQ,KAAK;AAAA,WACR,oBAAC,gBAAD,oBAAsBA,KAAtB;AAA6B,MAAA,SAAS,EAAEvB,YAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADQ;AAAA,GAAZ;AAGH,CAND;;AAQA,OAAO,IAAMwB,MAAM,GAAG,SAATA,MAAS,GAAM;AACxBT,EAAAA,gBAAgB;AAEhB,SAAOjB,KAAK,CAAC0B,MAAN,CAAaC,YAAb,CAA0BzB,YAA1B,CAAP;AACH,CAJM;AAMP,eAAeqB,aAAf","sourcesContent":["import React from \"react\";\r\nimport faker from \"faker\";\r\n\r\nlet loaded = false;\r\nlet hospitalList = [];\r\nlet nextHospitalId = 0;\r\n\r\nconst localstorageKey = 'hospital-data';\r\n\r\nconst dataVersion = 2;\r\n\r\nconst generate = (hospital = {}) => {\r\n    nextHospitalId += 1;\r\n    return {\r\n        id: nextHospitalId,\r\n        ...hospital\r\n    };\r\n};\r\n\r\nconst seed = () => {\r\n    hospitalList.push(generate({name: 'Central Hospital'}));\r\n    hospitalList.push(generate({name: 'A Betty Hospital'}));\r\n    hospitalList.push(generate({name: 'DW White Hospital'}));\r\n};\r\n\r\nconst saveState = () => {\r\n    localStorage.setItem(localstorageKey, JSON.stringify({\r\n        dataVersion,\r\n        nextHospitalId,\r\n        hospitalList\r\n    }))\r\n};\r\n\r\nconst loadHospitalData = () => {\r\n    if (loaded) {\r\n        return;\r\n    }\r\n\r\n    if (localStorage.getItem(localstorageKey)) {\r\n        const {\r\n            dataVersion: lsDataVersion,\r\n            nextHospitalId: lsNextHospitalId,\r\n            hospitalList: lsHospitalList\r\n        } = JSON.parse(localStorage.getItem(localstorageKey))\r\n\r\n        if (dataVersion === lsDataVersion) {\r\n            loaded = true;\r\n            nextHospitalId = lsNextHospitalId;\r\n            hospitalList = lsHospitalList;\r\n            return;\r\n        }\r\n    }\r\n\r\n    seed();\r\n    saveState();\r\n    loaded = true;\r\n};\r\n\r\nconst WithHospitals = (WrappedComponent) => {\r\n    loadHospitalData();\r\n\r\n    return props => (\r\n        <WrappedComponent {...props} hospitals={hospitalList} />\r\n    )\r\n}\r\n\r\nexport const random = () => {\r\n    loadHospitalData();\r\n\r\n    return faker.random.arrayElement(hospitalList);\r\n}\r\n\r\nexport default WithHospitals;\r\n"]},"metadata":{},"sourceType":"module"}